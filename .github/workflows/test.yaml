name: Flutter CI/CD

on:
  push:
    branches: 
      - lab7
  pull_request:
    branches: 
      - lab7
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: subosito/flutter-action@v2
      with:
        channel: 'stable'
        flutter-version: 3.22.2
    - run: flutter pub get
    - run: flutter test test/test_for_main.dart
    - run: flutter analyze lib/templates/lab7
    - run: flutter build web 

git
    # - name: Deploy to GitHub Pages
    #   uses: peaceiris/actions-gh-pages@v3
    #   with:
    #     github_token: ${{ secrets.GITHUB_TOKEN }}
    #     publish_dir: ./build/web